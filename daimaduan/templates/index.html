{% extends 'base.html' %}

{%- from 'macros/tags.html' import render_tag %}
{%- from 'macros/pastes.html' import render_paste_item %}
{%- from 'macros/pastes.html' import render_hot_pastes %}
{%- from 'macros/users.html' import render_user_avatar %}
{%- from 'macros/common.html' import render_pagination %}
{%- from 'macros/common.html' import fa_icon %}

{% block content %}
<h4 class="page-header">最新代码</h4>

<section class="pastes">
	{% for paste in pagination.items %}
		{{ render_paste_item(paste) }}
	{% endfor %}

  {{ render_pagination(pagination, url_for('site_app.index')) }}
</section><!-- .pastes -->
{% endblock %}

{% block sidebar %}
<div class="panel panel-default">
	<div class="panel-heading">热门标签</div>
	<div class="panel-body">
	{% for tag in tags %}
		{{ render_tag(tag) }}
	{% endfor %}
	</div>
</div>

{{  render_hot_pastes(hot_pastes) }}

<div class="panel panel-default">
  <div class="panel-heading">网站实时数据</div>
  <p class="list-group-item">
    <span class="badge">{{ users_count }}</span>
    会员 {{ fa_icon('arrow-up', users_increased, class='text-danger') }}
  </p>
  <p class="list-group-item">
    <span class="badge">{{ pastes_count }}</span>
    代码集合 {{ fa_icon('arrow-up', pastes_increased, class='text-danger') }}
  </p>
  <p class="list-group-item">
    <span class="badge">{{ comments_count }}</span>
    评论 {{ fa_icon('arrow-up', comments_increased, class='text-danger') }}
  </p>
  <p class="list-group-item">
    <span class="badge">{{ bookmarks_count }}</span>
    收藏夹 {{ fa_icon('arrow-up', bookmarks_increased, class='text-danger') }}
  </p>
  <p class="list-group-item">
    <span class="badge">{{ syntax_count }}</span>
    支持的语法高亮
  </p>
</div>
{#<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>#}
{#<!-- daimaduan -->#}
{#<ins class="adsbygoogle"#}
{#     style="display:block"#}
{#     data-ad-client="ca-pub-3454978138774752"#}
{#     data-ad-slot="1880156223"#}
{#     data-ad-format="auto"></ins>#}
{#<script>#}
{#(adsbygoogle = window.adsbygoogle || []).push({});#}
{#</script>#}
{% endblock %}
