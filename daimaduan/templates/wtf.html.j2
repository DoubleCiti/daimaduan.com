{% macro render_field(field, label=true) -%}
  <div class="form-group {% if field.errors %}has-error{% endif %} {{ kwargs.pop('class_', '') }}">
    {% if field.type != 'HiddenField' and label %}
      <label for="{{ field.id }}" class="control-label">
        {{ field.label }}
      </label>
    {% endif %}

    {{ field(class_='form-control', **kwargs) }}

    {% if field.errors %}
      {% for e in field.errors %}
        <p class="help-block">{{ e }}</p>
      {% endfor %}
    {% endif %}
  </div>
{%- endmacro %}
